[build]
# Enable reproducible builds
rustflags = [
    # Remap source file paths to remove machine-specific paths
    "--remap-path-prefix", "/app=/app",
    "--remap-path-prefix", "/usr/local/cargo=/cargo",
    # Disable incremental compilation for reproducibility
    "-C", "incremental=false",
]

[profile.release]
# Strip debug symbols for smaller, more reproducible binaries
strip = "symbols"
# Disable link-time optimization variations
lto = "thin"
# Use a fixed codegen units value
codegen-units = 1
